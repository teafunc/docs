---
title: "Create a User with a Passkey Credential"
sidebar_position: 1
description: Create a User with a Passkey Credential
slug: /embedded-wallet-workflows/create-user-passkey
---

import Tabs from "@theme/Tabs";
import TabItem from "@theme/TabItem";
import CodeBlock from "@theme/CodeBlock";
import Parameter from "@site/src/components/parameter";

#### 1. Initialize Passkey Client
<CodeBlock language="typescript">
{`import { Turnkey, TurnkeySDKBrowserConfig } from "@turnkey/sdk-browser";`}
{`\n\nconst turnkeyConfig: TurnkeySDKBrowserConfig = {...};`}
{`\nconst turnkey = new Turnkey(turnkeyConfig);`}
{`\nconst passkeyClient = turnkey.passkeyClient();`}
</CodeBlock>

#### 2. Create a Local Passkey Credential

This will prompt a user natively in their browser to create a passkey.

<CodeBlock language="typescript">
{`const credential = await passkeyClient.createUserPasskey({
  publicKey: {
    user: {
      name: <userName>,
      displayName: <userDisplayName>
    }
  }
})`}
</CodeBlock>

#### 3. Configure the for the User

<CodeBlock language="typescript">
{`import { DEFAULT_ETHEREUM_ACCOUNTS } from "@turnkey/sdk-browser";`}
{`\n\nconst subOrganizationConfig = {
  subOrganizationName: <subOrganizationName>,
  rootUsers: [{
    userName: <userName>,
    userEmail: <userEmail>,
    apiKeys: [],
    authenticators: [
      {
        authenticatorName: <authenticatorName>,
        challenge: credential.challenge,
        attestation: credential.attestation
      }
    ]
  }],
  rootQuorumThreshold: 1,
  wallet: {
    walletName: <initialWalletName>,
    accounts: DEFAULT_ETHEREUM_ACCOUNTS
  }
}`}
</CodeBlock>

#### 4. Call `createSubOrganization` on your backend

<CodeBlock language="typescript">
{`await turnkey.serverSign("createSubOrganization", [subOrganizationConfig]);`}
</CodeBlock>
